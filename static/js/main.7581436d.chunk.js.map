{"version":3,"sources":["Components/Modal/Modal.module.css","Components/TodoItem/TodoItem.module.css","Components/TodoForm/TodoForm.module.css","Components/TodosList/TodoList.module.css","Components/TodoItem/TodoItem.js","Components/Modal/Modal.js","Components/TodosList/TodosList.js","Components/TodoForm/TodoForm.js","App.js","index.js"],"names":["module","exports","TodoItem","changeTodo","deleteTodo","text","date","index","todos","setTodos","className","style","contain","type","value","completed","checked","onChange","e","newComplite","target","btn__contain","onClick","change","delete","modalRoot","document","getElementById","Modal","context","currentId","toggleModal","useState","setChangeTodo","useEffect","window","addEventListener","closeModalEsc","removeEventListener","code","createPortal","overlay","currentTarget","modal","close","width","height","fill","xmlns","d","onSubmit","preventDefault","trim","i","length","alert","Date","newArray","id","toLocaleString","textarea","createTodo","placeholder","btn","TodosList","showModal","setShowModal","setContext","setCurrentId","todoId","targetTodo","find","updateTodo","filter","todo","updateTodoComplited","list","map","item","TodoForm","newTodo","setNewTodo","reset","uuidv4","form","App","JSON","parse","localStorage","getItem","setItem","stringify","countCompletedToDo","ReactDOM","render","StrictMode"],"mappings":"0GACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,MAAQ,qBAAqB,SAAW,wBAAwB,KAAO,oBAAoB,IAAM,qB,iBCAjLD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,QAAU,0BAA0B,aAAe,+BAA+B,IAAM,sBAAsB,OAAS,6CAA6C,OAAS,+C,iBCA7ND,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,uBAAuB,IAAM,sBAAsB,KAAO,yB,kBCAzHD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,QAAU,4B,uKCEzE,SAASC,EAAT,GAQX,IAPFC,EAOC,EAPDA,WACAC,EAMC,EANDA,WACAC,EAKC,EALDA,KACAC,EAIC,EAJDA,KACAC,EAGC,EAHDA,MACAC,EAEC,EAFDA,MACAC,EACC,EADDA,SAQA,OACE,qCACE,sBAAKC,UAAWC,IAAMC,QAAtB,UACE,uBACEC,KAAK,WACLC,MAAON,EAAMD,GAAOQ,UACpBC,QAASR,EAAMD,GAAOQ,UACtBE,SAbc,SAACC,GACrB,IAAMC,EAAW,YAAOX,GAExB,OADAW,EAAYZ,GAAOQ,UAAYG,EAAEE,OAAOJ,QACjCP,EAASU,MAYZ,4GAAmBb,KACnB,oBAAGI,UAAWC,IAAMN,KAApB,oBAAkCA,QAEpC,sBAAKK,UAAWC,IAAMU,aAAtB,UACE,wBACEC,QAAS,WACP,OAAOnB,EAAWI,IAEpBG,UAAWC,IAAMY,OAJnB,oBAQA,wBACED,QAAS,WACP,OAAOlB,EAAWG,IAEpBG,UAAWC,IAAMa,OAJnB,0B,oBCnCFC,EAAYC,SAASC,eAAe,cAE3B,SAASC,EAAT,GAMX,IALFC,EAKC,EALDA,QACApB,EAIC,EAJDA,SACAqB,EAGC,EAHDA,UACAtB,EAEC,EAFDA,MACAuB,EACC,EADDA,YAEA,EAAoCC,mBAASH,GAA7C,mBAAO1B,EAAP,KAAmB8B,EAAnB,KAEAC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WAAKF,OAAOG,oBAAoB,UAAWD,OAGpD,IAAMA,EAAgB,SAAAnB,GACL,WAAXA,EAAEqB,MAAoBR,KAmC5B,OAAOS,uBACL,qBAAK9B,UAAWC,IAAM8B,QAASnB,QAjCC,SAAAJ,GAC5BA,EAAEE,SAAWF,EAAEwB,eAAgBX,KAgCnC,SACE,qBAAKrB,UAAWC,IAAMgC,MAAtB,SACE,qCACE,wBACErB,QAAS,WACPS,KAEFrB,UAAWC,IAAMiC,MAJnB,SAME,qBACEC,MAAM,KACNC,OAAO,KACPC,KAAK,OACLC,MAAM,6BAJR,SAME,sBACEC,EAAE,oJACFF,KAAK,gBAIX,uBAAMG,SAlDW,SAAChC,GAExB,GADAA,EAAEiC,iBACwB,KAAtBhD,EAAWiD,OAAf,CAIA,IAAK,IAAIC,EAAI,EAAGA,EAAI7C,EAAM8C,OAAQD,GAAK,EACrC,GAAI7C,EAAM6C,GAAGhD,OAASF,EAAWiD,OAE/B,YADAG,MAAM,uHAIV,IAAMjD,EAAO,IAAIkD,KACXC,EAAQ,YAAOjD,GACrBiD,EAAS3B,GAAa,CACpBf,WAAW,EACX2C,GAAID,EAAS3B,GAAW4B,GACxBrD,KAAMF,EACNG,KAAMA,EAAKqD,eAAe,UAE5BlD,EAASgD,GACT1B,SAlBEwB,MAAM,8EA+CF,UACE,mBAAG7C,UAAWC,IAAMN,KAApB,yBACA,0BACEK,UAAWC,IAAMiD,SACjB3C,SA/BU,SAACC,GACrB,IAAM2C,EAAa3C,EAAEE,OAAON,MAC5BmB,EAAc4B,IA8BJ/C,MAAOX,EACPU,KAAK,OACLiD,YAAY,eAEd,wBAAQpD,UAAWC,IAAMoD,IAAzB,mCAKRtC,G,qBCtFW,SAASuC,EAAT,GAGX,IAFFxD,EAEC,EAFDA,MACAC,EACC,EADDA,SAEA,EAAkCuB,oBAAS,GAA3C,mBAAOiC,EAAP,KAAkBC,EAAlB,KACA,EAA8BlC,mBAAS,IAAvC,mBAAOH,EAAP,KAAgBsC,EAAhB,KACA,EAAkCnC,mBAAS,IAA3C,mBAAOF,EAAP,KAAkBsC,EAAlB,KACMjE,EAAa,SAACkE,GAClB,IAAMC,EAAa9D,EAAM+D,MAAK,WAASlB,GAAT,EAAGK,GAAH,OAAeW,IAAWhB,KACxDc,EAAWG,EAAWjE,MACtB+D,EAAaC,GACbtC,KAEIA,EAAc,WAClB,OAAOmC,GAAcD,IAEjB7D,EAAa,SAACiE,GAClB,IAAMG,EAAahE,EAAMiE,QAAO,SAACC,EAAMrB,GACrC,OAAOA,IAAMgB,KAEf5D,EAAS+D,GAET,IAAMG,EAAsBnE,EAAMiE,QAAO,SAACC,EAAMrB,GAC9C,OAAOA,IAAMgB,KAEf5D,EAASkE,IAEX,OACE,qCACE,oBAAIjE,UAAWC,IAAMiE,KAArB,SACoB,IAAjBpE,EAAM8C,QACL9C,EAAMqE,KAAI,WAA8BxB,GAAO,IAAnChD,EAAkC,EAAlCA,KAAMqD,EAA4B,EAA5BA,GAAI3C,EAAwB,EAAxBA,UAAWT,EAAa,EAAbA,KAC/B,OACE,qBAEEI,UACGK,GAAaJ,IAAMK,SAAYL,IAAMmE,KAH1C,UAME,cAAC5E,EAAD,CACEI,KAAMA,EACND,KAAMA,EACNE,MAAO8C,EACPlD,WAAYA,EACZC,WAAYA,EACZI,MAAOA,EACPC,SAAUA,IACT,MAbEiD,QAkBdO,GACC,cAACrC,EAAD,CACEC,QAASA,EACTC,UAAWA,EACXrB,SAAUA,EACVD,MAAOA,EACPuB,YAAaA,O,4BC3DR,SAASgD,EAAT,GAGX,IAFFtE,EAEC,EAFDA,SACAD,EACC,EADDA,MAEA,EAA8BwB,mBAAS,IAAvC,mBAAOgD,EAAP,KAAgBC,EAAhB,KAgCMC,EAAQ,WACZD,EAAW,KAEb,OACE,mCACE,uBAAM/B,SAhCe,SAAChC,GAExB,GADAA,EAAEiC,iBACqB,KAAnB6B,EAAQ5B,OAGV,OAFAG,MAAM,+IACN2B,IAIF,IAAK,IAAI7B,EAAI,EAAGA,EAAI7C,EAAM8C,OAAQD,GAAK,EACrC,GAAI7C,EAAM6C,GAAGhD,OAAS2E,EAAQ5B,OAG5B,OAFAG,MAAM,4HACN2B,IAKJ,IAAM5E,EAAO,IAAIkD,KACjB/C,EAAS,CACP,CACEM,WAAW,EACX2C,GAAIyB,cACJ9E,KAAM2E,EACN1E,KAAMA,EAAKqD,eAAe,WALtB,mBAMDnD,KAEP0E,KAOoCxE,UAAWC,IAAMyE,KAAnD,UACE,mBAAG1E,UAAWC,IAAMN,KAApB,0BACA,0BACEK,UAAWC,IAAMiD,SACjB3C,SAxCc,SAACC,GACrB,IAAM2C,EAAa3C,EAAEE,OAAON,MAC5BmE,EAAWpB,IAuCL/C,MAAOkE,EACPnE,KAAK,OACLiD,YAAY,eAEd,wBAAQpD,UAAWC,IAAMoD,IAAzB,8BClDR,IAAMzD,EAAO,IAAIkD,KA6CF6B,MA3Cf,WACE,MAA0BrD,oBAAS,WAAO,IAAD,EACvC,iBACEsD,KAAKC,MAAMpD,OAAOqD,aAAaC,QAAQ,qBADzC,QAC0D,CACtD,CACE/B,GAAI,YACJ3C,WAAW,EACXV,KAAM,wBACNC,KAAMA,EAAKqD,eAAe,cAPlC,mBAAOnD,EAAP,KAAcC,EAAd,KAaAyB,qBAAU,WACRC,OAAOqD,aAAaE,QAAQ,QAASJ,KAAKK,UAAUnF,MACnD,CAACA,IAEJ0B,qBAAU,WACRC,OAAOqD,aAAaE,QAAQ,QAASJ,KAAKK,UAAUnF,MACnD,CAACA,IAEJ,IAAMoF,EAAqBpF,EAAMiE,QAAO,mBAA+B,IAA/B,EAAE1D,aAE1C,OACE,qBAAKL,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,QAAd,sBACA,cAACqE,EAAD,CACEvE,MAAOA,EACPC,SAAUA,IAEZ,oBAAGC,UAAU,QAAb,kFAAyCF,EAAM8C,UAC/C,oBAAG5C,UAAU,QAAb,gHAA8CkF,EAAmBtC,UACjE,cAACU,EAAD,CACExD,MAAOA,EACPC,SAAUA,UCtCpBoF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrE,SAASC,eAAe,W","file":"static/js/main.7581436d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__-sWAp\",\"modal\":\"Modal_modal__2CB_a\",\"close\":\"Modal_close__eqYjX\",\"textarea\":\"Modal_textarea__14ToJ\",\"text\":\"Modal_text__3ckbF\",\"btn\":\"Modal_btn__3T0NK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"TodoItem_text__-nidB\",\"contain\":\"TodoItem_contain__2Xvyr\",\"btn__contain\":\"TodoItem_btn__contain__3ge1t\",\"btn\":\"TodoItem_btn__20dBG\",\"change\":\"TodoItem_change__2Rgy- TodoItem_btn__20dBG\",\"delete\":\"TodoItem_delete__30bn4 TodoItem_btn__20dBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"TodoForm_textarea__sHLkJ\",\"text\":\"TodoForm_text__SUrJH\",\"btn\":\"TodoForm_btn__114nW\",\"form\":\"TodoForm_form__3zSHw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"TodoList_list__1Sf4o\",\"item\":\"TodoList_item__33X96\",\"checked\":\"TodoList_checked__3nYyY\"};","import style from \"./TodoItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function TodoItem({\r\n  changeTodo,\r\n  deleteTodo,\r\n  text,\r\n  date,\r\n  index,\r\n  todos,\r\n  setTodos,\r\n}) {\r\n  const handleChecked = (e) => {\r\n    const newComplite = [...todos];\r\n    newComplite[index].completed = e.target.checked;\r\n    return setTodos(newComplite);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={style.contain}>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={todos[index].completed}\r\n          checked={todos[index].completed}\r\n          onChange={handleChecked}\r\n        />\r\n        <p>Дата создания: {date}</p>\r\n        <p className={style.text}> Todo: {text}</p>\r\n      </div>\r\n      <div className={style.btn__contain}>\r\n        <button\r\n          onClick={() => {\r\n            return changeTodo(index);\r\n          }}\r\n          className={style.change}\r\n        >\r\n          Change\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            return deleteTodo(index);\r\n          }}\r\n          className={style.delete}\r\n        >\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nTodoItem.propTypes = {\r\n  data: PropTypes.string,\r\n  text: PropTypes.string,\r\n  index: PropTypes.number,\r\n  changeTodo: PropTypes.func,\r\n  deleteTodo: PropTypes.func,\r\n  todos: PropTypes.arrayOf(PropTypes.object),\r\n  setTodos: PropTypes.func,\r\n}","import { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\"\r\nimport { useState, useEffect } from \"react\";\r\nimport style from \"./Modal.module.css\";\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default function Modal({\r\n  context,\r\n  setTodos,\r\n  currentId,\r\n  todos,\r\n  toggleModal,\r\n}) {\r\n  const [changeTodo, setChangeTodo] = useState(context);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', closeModalEsc)\r\n    return ()=>{window.removeEventListener('keydown', closeModalEsc)}\r\n  })\r\n\r\n  const closeModalEsc = e => {\r\n    if (e.code === \"Escape\") {toggleModal()}\r\n  }\r\n\r\n  const closeModalByClickBackDrop = e => {\r\n    if (e.target === e.currentTarget) {toggleModal()}\r\n  }\r\n\r\n  const handleChangeTodo = (e) => {\r\n    e.preventDefault();\r\n    if (changeTodo.trim() === \"\") {\r\n      alert(\"введите текст\");\r\n      return;\r\n    }\r\n    for (let i = 0; i < todos.length; i += 1) {\r\n      if (todos[i].text === changeTodo.trim()) {\r\n        alert(\"такая TODO уже существует\");\r\n        return;\r\n      }\r\n    }\r\n    const date = new Date();\r\n    const newArray = [...todos];\r\n    newArray[currentId] = {\r\n      completed: false,\r\n      id: newArray[currentId].id,\r\n      text: changeTodo,\r\n      date: date.toLocaleString(\"en-US\"),\r\n    };\r\n    setTodos(newArray);\r\n    toggleModal();\r\n  };\r\n  const createNewTodo = (e) => {\r\n    const createTodo = e.target.value;\r\n    setChangeTodo(createTodo);\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={style.overlay} onClick={closeModalByClickBackDrop}>\r\n      <div className={style.modal}>\r\n        <>\r\n          <button\r\n            onClick={() => {\r\n              toggleModal();\r\n            }}\r\n            className={style.close}\r\n          >\r\n            <svg\r\n              width=\"40\"\r\n              height=\"40\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M29.667 12.88 27.787 11l-7.454 7.453L12.88 11 11 12.88l7.453 7.453L11 27.787l1.88 1.88 7.453-7.454 7.454 7.454 1.88-1.88-7.454-7.454 7.454-7.453Z\"\r\n                fill=\"#212121\"\r\n              />\r\n            </svg>\r\n          </button>\r\n          <form onSubmit={handleChangeTodo}>\r\n            <p className={style.text}>Change todo</p>\r\n            <textarea\r\n              className={style.textarea}\r\n              onChange={createNewTodo}\r\n              value={changeTodo}\r\n              type=\"text\"\r\n              placeholder=\"input TODO\"\r\n            ></textarea>\r\n            <button className={style.btn}>Change Todo</button>\r\n          </form>\r\n        </>\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  context: PropTypes.string,\r\n  currentId: PropTypes.number,\r\n  todos: PropTypes.arrayOf(PropTypes.object),\r\n  setTodos: PropTypes.func,\r\n  toggleModal: PropTypes.func,\r\n}","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\"\r\nimport TodoItem from \"../TodoItem\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport style from \"./TodoList.module.css\";\r\n\r\nexport default function TodosList({\r\n  todos,\r\n  setTodos,\r\n}) {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [context, setContext] = useState(\"\");\r\n  const [currentId, setCurrentId] = useState(\"\");\r\n  const changeTodo = (todoId) => {\r\n    const targetTodo = todos.find(({ id }, i) => todoId === i);\r\n    setContext(targetTodo.text);\r\n    setCurrentId(todoId);\r\n    toggleModal();\r\n  };\r\n  const toggleModal = () => {\r\n    return setShowModal(!showModal);\r\n  };\r\n  const deleteTodo = (todoId) => {\r\n    const updateTodo = todos.filter((todo, i) => {\r\n      return i !== todoId;\r\n    });\r\n    setTodos(updateTodo);\r\n   \r\n    const updateTodoComplited = todos.filter((todo, i) => {\r\n      return i !== todoId\r\n    })\r\n    setTodos(updateTodoComplited)\r\n  };\r\n  return (\r\n    <>\r\n      <ul className={style.list}>\r\n        {todos.length !== 0 &&\r\n          todos.map(({text, id, completed, date}, i) => {\r\n            return (\r\n              <li\r\n                key={id}\r\n                className={\r\n                  (completed && style.checked) || style.item\r\n                }\r\n              >\r\n                <TodoItem\r\n                  date={date}\r\n                  text={text}\r\n                  index={i}\r\n                  changeTodo={changeTodo}\r\n                  deleteTodo={deleteTodo}\r\n                  todos={todos}\r\n                  setTodos={setTodos}\r\n                />{\" \"}\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n      {showModal && (\r\n        <Modal\r\n          context={context}\r\n          currentId={currentId}\r\n          setTodos={setTodos}\r\n          todos={todos}\r\n          toggleModal={toggleModal}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nTodosList.propTypes = {\r\n  todos: PropTypes.arrayOf(PropTypes.object),\r\n  setTodos: PropTypes.func,\r\n}","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\"\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport style from \"./TodoForm.module.css\";\r\n\r\nexport default function TodoForm({\r\n  setTodos,\r\n  todos,\r\n}) {\r\n  const [newTodo, setNewTodo] = useState(\"\");\r\n  const createNewTodo = (e) => {\r\n    const createTodo = e.target.value;\r\n    setNewTodo(createTodo);\r\n  };\r\n  const handleCreateTodo = (e) => {\r\n    e.preventDefault();\r\n    if (newTodo.trim() === \"\") {\r\n      alert(\"пожалуйста введите текст\");\r\n      reset();\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < todos.length; i += 1) {\r\n      if (todos[i].text === newTodo.trim()) {\r\n        alert(\"такая TODO уже существует\");\r\n        reset();\r\n        return;\r\n      }\r\n    }\r\n\r\n    const date = new Date();\r\n    setTodos([\r\n      {\r\n        completed: false,\r\n        id: uuidv4(),\r\n        text: newTodo,\r\n        date: date.toLocaleString(\"en-US\"),\r\n      },...todos\r\n    ]);\r\n    reset();\r\n  };\r\n  const reset = () => {\r\n    setNewTodo(\"\");\r\n  };\r\n  return (\r\n    <>\r\n      <form onSubmit={handleCreateTodo} className={style.form}>\r\n        <p className={style.text}>Create todo:</p>\r\n        <textarea\r\n          className={style.textarea}\r\n          onChange={createNewTodo}\r\n          value={newTodo}\r\n          type=\"text\"\r\n          placeholder=\"input TODO\"\r\n        ></textarea>\r\n        <button className={style.btn}>Create Todo</button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nTodoForm.propTypes = {\r\n  todos: PropTypes.arrayOf(PropTypes.object),\r\n  setTodos: PropTypes.func,\r\n}","import \"./App.css\";\r\nimport TodosList from \"./Components/TodosList\";\r\nimport TodoForm from \"./Components/TodoForm\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst date = new Date();\r\n\r\nfunction App() {\r\n  const [todos, setTodos] = useState(() => {\r\n    return (\r\n      JSON.parse(window.localStorage.getItem(\"completed\")) ?? [\r\n        {\r\n          id: \"firstTodo\",\r\n          completed: false,\r\n          text: \"create you first ToDo\",\r\n          date: date.toLocaleString(\"en-US\"),\r\n        },\r\n      ]\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"todos\", JSON.stringify(todos));\r\n  }, [todos]);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"todos\", JSON.stringify(todos));\r\n  }, [todos]);\r\n\r\n  const countCompletedToDo = todos.filter(({completed}) => completed === true)\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container\">\r\n        <h1 className=\"title\">ToDo App</h1>\r\n        <TodoForm\r\n          todos={todos}\r\n          setTodos={setTodos}\r\n        />\r\n        <p className=\"total\">Общее кол-во ToDo: {todos.length}</p>\r\n        <p className=\"total\">Кол-во выполненых ToDo: {countCompletedToDo.length}</p>\r\n        <TodosList\r\n          todos={todos}\r\n          setTodos={setTodos}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}